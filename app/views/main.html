<!-- google map -->
<div class="primary-content">
    <div class="google-map" 
        center="center"
        zoom="zoom" 
        markers="markers"
        draggable="true"
        fit="true"
        events="eventsProperty"
        style="height: 100%; width: 100%">
    </div>
</div>

<!-- store info panel -->
<div id="myModal" class="reveal-modal">
    <h2>Details for Store #{{storeInfo.id}}</h2>
    <h3>{{storeInfo.name}}</h3>
    <ul>
        <li>{{storeInfo.address_line_1}} {{storeInfo.address_line_2}}</li>
        <li>{{storeInfo.postal_code}}</li>
        <li>{{storeInfo.city}}</li>
        <li>{{storeInfo.telephone}}</li>
        <li>Parking: {{storeInfo.has_parking | checkmark }}</li>
        <li>Wheelchair Accessible: {{storeInfo.has_wheelchair_accessability | checkmark }}</li>
        <li>Product Consultant: {{storeInfo.has_product_consultant | checkmark }}</li>
        <li>Special Occassions Permits: {{storeInfo.has_special_occasion_permits | checkmark }}</li>
        <li>Cold Beer Room: {{storeInfo.has_beer_cold_room | checkmark }}</li>
        <li>Vintages Corner: {{storeInfo.has_vintages_corner | checkmark }}</li>
        <li>Tasting Bar: {{storeInfo.has_tasting_bar | checkmark }}</li>
        <li>Transit Access: {{storeInfo.has_transit_access | checkmark }}</li>                     
    </ul>
    <a class="close-reveal-modal">&#215;</a>
</div>

<!-- filter options -->
<div class="options-bar" ng-show="showOptionsBar == true" ng-animate="'fade'"  style="display: none;">
    <div>
    {{storeList.result}}
    </div>
    <p>Filter Panel</p>
    <p>Sort:</p>
    <select ng-model="orderStores">
        <option value="distance_in_meters">Shortest Distance</option>
        <option value="name">Alphabetical</option>
        <option value="city">City</option>
        <option value="-inventory_volume_in_milliliters">Inventory Volume</option>
    </select>

    <p>Store Count:</p>
    <input type="range" name="stores" ng-model="stores" min="5" max="25"> {{stores}}
    <!-- <button ng-click="performSearch()">Update</button> -->

    <p>Filter:</p>
    <input type="text" ng-model="search" placeholder="Type a keyword" />

    <p>Advanced Filters:</p>
    <ul class="filter-options">
        <li>
            <input id="has_parking" type="checkbox" ng-model="query.has_parking" ng-true-value="true" ng-false-value="">
            <label for="has_parking"><span></span>Parking</label>
        </li>
        <li>
            <input id="has_wheelchair_accessability" type="checkbox" ng-model="query.has_wheelchair_accessability" ng-true-value="true" ng-false-value="" >
            <label for="has_wheelchair_accessability"><span></span>Wheelchair Accessible</label>
        </li>
        <li>
            <input id="has_product_consultant" type="checkbox" ng-model="query.has_product_consultant" ng-true-value="true" ng-false-value="" >
             <label for="has_product_consultant"><span></span>Product Consultant</label>
         </li>
        <li>
            <input id="has_special_occasion_permits" type="checkbox" ng-model="query.has_special_occasion_permits" ng-true-value="true" ng-false-value="" > 
            <label for="has_special_occasion_permits"><span></span>Special Occasion Permits</label>
        </li>
    </ul>

    <ul class="filter-options">
        <li>
            <input id="has_beer_cold_room" type="checkbox" ng-model="query.has_beer_cold_room" ng-true-value="true" ng-false-value="" > 
            <label for="has_beer_cold_room"><span></span>Cold Beer Room</label>
        </li>
        <li>
            <input id="has_vintages_corner" type="checkbox" ng-model="query.has_vintages_corner" ng-true-value="true" ng-false-value="" > 
            <label for="has_vintages_corner"><span></span>Vintages Corner</label>
        </li>
        <li>
            <input id="has_tasting_bar" type="checkbox" ng-model="query.has_tasting_bar" ng-true-value="true" ng-false-value="" > 
            <label for="has_tasting_bar"><span></span>Tasting Bar</label>
        </li>
        <li>
            <input id="has_transit_access" type="checkbox" ng-model="query.has_transit_access" ng-true-value="true" ng-false-value="" > 
            <label for="has_transit_access"><span></span>Transit Access</label>
        </li>
    </ul>
</div>

<!-- lower data bar -->
<div class="data-bar">
    <ul id="db-ul-container">
        <li class="db-listing" ng-repeat="store in filtered = (storesWithLimit | filter: query | filter: search | orderBy: orderStores | limitTo: stores)">
        <!-- <li class="db-listing" ng-repeat="store in storesList"> -->
                <div class="db-div-icon">
                    <a data-reveal-id="myModal" ng-click="getStoreInfo({{store}})">
                        <i class="icon-beer icon-4x" style="width: 100%; height: 100%;"></i>
                        <span class="index-number">{{$index + 1}}</span>
                    </a>
                </div>
                <ul class="db-ul-content">
                    <a data-reveal-id="myModal" ng-click="getStoreInfo({{store}})">
                        <li class="db-title">
                            {{store.name}} <br /> {{store.city}}
                        </li>
                    </a>
                    <li>{{store.address_line_1}} {{store.address_line_2}}</li>
                    <li>Distance: {{store.distance_in_meters | mtokm}}</li>
                    <li>Selection Size: {{store.products_count | inventorydiversity}}</li>
                </ul>

        </li>
    </ul>
</div>